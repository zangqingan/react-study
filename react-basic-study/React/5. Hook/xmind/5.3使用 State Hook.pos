{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"leftChildren":[],"note":"","margin":{"childMarginW":10,"childMarginH":5,"marginW":20,"marginH":10},"watermark":"","children":[{"parent":"root","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"children":[{"parent":"4a4e937a1166","children":[{"parent":"26f6456c6af4","children":[],"style":{"font-size":12},"id":"ece53cde66c3","title":"function&nbsp;Example(props)&nbsp;{<br>&nbsp;&nbsp;//&nbsp;你可以在这使用&nbsp;Hook<br>&nbsp;&nbsp;return&nbsp;&lt;div&nbsp;/&gt;;<br>}"}],"boundaries":[{"boundary":true,"parent":"26f6456c6af4","boundRank":1,"children":[],"pos":{"miny":9662,"minx":10469,"maxY":9733,"maxX":10670},"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#63abf7","opacity":"0.1","fill":"#63abf7","lineWidth":"1"},"id":"a252394f258e","title":"外框"}],"id":"26f6456c6af4","title":"React&nbsp;的函数组件是这样的","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"4a4e937a1166","children":[],"id":"38155145bf86","title":"之前可能把它们叫做“无状态组件”。但现在我们为它们引入了使用&nbsp;React&nbsp;state&nbsp;的能力，所以我们更喜欢叫它”函数组件”","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"4a4e937a1166","children":[],"id":"b91414026afa","title":"Hook&nbsp;在&nbsp;class&nbsp;内部是不起作用的。但你可以使用它们来取代&nbsp;class","icons":[{"color":"rgb(48, 191, 191)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#FFCDD2","lineStype":{"lineType":"curve","lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"4a4e937a1166","title":"Hook&nbsp;和函数组件"},{"parent":"root","lineStyle":{"randomLineColor":"rgb(255,204,204)","lineColor":"#BBDEFB"},"children":[{"parent":"812b3a9306dd","children":[],"style":{"color":"#2196F3","font-weight":"bold","font-size":13},"id":"81d4842d0d98","title":"Hook&nbsp;是什么？&nbsp;Hook&nbsp;是一个特殊的函数，它可以让你“钩入”&nbsp;React&nbsp;的特性","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"812b3a9306dd","children":[],"id":"0b4b0647241b","title":"什么时候我会用&nbsp;Hook？&nbsp;如果你在编写函数组件并意识到需要向其添加一些&nbsp;state，<br>以前的做法是必须将其它转化为&nbsp;class。现在你可以在现有的函数组件中使用&nbsp;Hook","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"background-color":"#BBDEFB","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"812b3a9306dd","title":"Hook&nbsp;是什么<br>"},{"parent":"root","lineStyle":{"lineColor":"#E1BEE7"},"children":[{"parent":"3b7f7da9d693","children":[{"parent":"3d72025d5a72","note":"class Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }","children":[],"id":"29806eadbdeb","title":"示例代码"}],"id":"3d72025d5a72","title":"在&nbsp;class&nbsp;中，我们通过在构造函数中设置&nbsp;this.state&nbsp;为&nbsp;{&nbsp;count:&nbsp;0&nbsp;}&nbsp;来初始化&nbsp;count&nbsp;state&nbsp;为&nbsp;0","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"3b7f7da9d693","children":[{"parent":"c79ce255c680","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"roundBroken","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"c3c629500eae","title":"import&nbsp;React,&nbsp;{&nbsp;useState&nbsp;}&nbsp;from&nbsp;'react';\n\nfunction&nbsp;Example()&nbsp;{\n&nbsp;&nbsp;//&nbsp;声明一个叫&nbsp;“count”&nbsp;的&nbsp;state&nbsp;变量\n&nbsp;&nbsp;const&nbsp;[count,&nbsp;setCount]&nbsp;=&nbsp;useState(0);"}],"boundaries":[{"boundary":true,"parent":"c79ce255c680","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#63abf7","fill":"#63abf7","opacity":"0.1","lineWidth":"1"},"id":"1ebad167b867","title":"外框"}],"id":"c79ce255c680","title":"在函数组件中，我们没有&nbsp;this，<br>所以我们不能分配或读取&nbsp;this.state。<br>我们直接在组件中调用&nbsp;useState&nbsp;Hook","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"3b7f7da9d693","children":[{"parent":"531cad0d183f","children":[{"parent":"e406e8fb3a14","children":[],"id":"d801763819a0","title":"它定义一个&nbsp;“state&nbsp;变量”"}],"id":"e406e8fb3a14","title":"调用&nbsp;useState&nbsp;方法的时候做了什么?"},{"parent":"531cad0d183f","children":[{"parent":"63aa26108a17","children":[],"id":"b43580315ae1","title":"useState()&nbsp;方法里面唯一的参数就是初始&nbsp;state"}],"id":"63aa26108a17","title":"useState&nbsp;需要哪些参数？"},{"parent":"531cad0d183f","children":[{"parent":"92316744504d","children":[],"id":"3515a3851710","title":"返回值为：当前&nbsp;state&nbsp;以及更新&nbsp;state&nbsp;的函数。<br>这就是我们写&nbsp;const&nbsp;[count,&nbsp;setCount]&nbsp;=&nbsp;useState()&nbsp;的原因。<br>这与&nbsp;class&nbsp;里面&nbsp;this.state.count&nbsp;和&nbsp;this.setState&nbsp;类似，唯一区别就是你需要成对的获取它们"}],"id":"92316744504d","title":"useState&nbsp;方法的返回值是什么？"}],"id":"531cad0d183f","title":"几个问题","icons":[{"color":"rgb(48, 191, 191)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"background-color":"#E1BEE7","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13},"id":"3b7f7da9d693","title":"声明&nbsp;State&nbsp;变量"},{"parent":"root","lineStyle":{"randomLineColor":"rgb(153,204,255)","lineColor":"#F57F17"},"children":[{"parent":"b653f7534587","children":[],"id":"06a83c1e3750","title":"当我们想在&nbsp;class&nbsp;中显示当前的&nbsp;count，我们读取&nbsp;this.state.count","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"b653f7534587","children":[{"parent":"fe34edd8c073","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"234039393441","title":"&lt;p&gt;You&nbsp;clicked&nbsp;{count}&nbsp;times&lt;/p&gt;"}],"boundaries":[{"boundary":true,"parent":"fe34edd8c073","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#63abf7","fill":"#63abf7","opacity":"0.1","lineWidth":"1"},"id":"b9bb6b6fd276","title":"外框"}],"id":"fe34edd8c073","title":"在函数中，我们可以直接用&nbsp;count","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"background-color":"#C8E6C9","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"b653f7534587","title":"读取&nbsp;State"},{"parent":"root","lineStyle":{"lineColor":"#FFE0B2"},"children":[{"parent":"2c0b8a719934","children":[{"parent":"0d17e125fc4e","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"5c4610f8e3d7","title":"&lt;button&nbsp;onClick={()&nbsp;=&gt;&nbsp;this.setState({&nbsp;count:&nbsp;this.state.count&nbsp;+&nbsp;1&nbsp;})}&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;Click&nbsp;me\n&nbsp;&nbsp;&lt;/button&gt;"}],"boundaries":[{"boundary":true,"parent":"0d17e125fc4e","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#63abf7","fill":"#63abf7","opacity":"0.1","lineWidth":"1"},"id":"8eba8ff748b3","title":"外框"}],"id":"0d17e125fc4e","title":"在&nbsp;class&nbsp;中，<br>我们需要调用&nbsp;this.setState()&nbsp;来更新&nbsp;count&nbsp;值<br>","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"2c0b8a719934","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[{"parent":"419628db349c","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"6cfbb161dc66","title":"&lt;button&nbsp;onClick={()&nbsp;=&gt;&nbsp;setCount(count&nbsp;+&nbsp;1)}&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;Click&nbsp;me\n&nbsp;&nbsp;&lt;/button&gt;"}],"boundaries":[{"boundary":true,"parent":"419628db349c","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#63abf7","fill":"#63abf7","opacity":"0.1","lineWidth":"1"},"id":"2cf160ee0385","title":"外框"}],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"419628db349c","title":"在函数中，我们已经有了&nbsp;setCount&nbsp;和&nbsp;count&nbsp;变量，<br>所以我们不需要&nbsp;this","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"background-color":"#FFE0B2","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13},"id":"2c0b8a719934","title":"更新&nbsp;State<br>"}],"root":true,"theme":"customise_7fd055efa78b","style":{"background-color":"rgb(255, 83, 92)","border-radius":"6px","color":"rgb(255, 255, 255)","font-weight":"bold","font-size":15,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"root","title":"使用&nbsp;State&nbsp;Hook","icons":[{"color":"rgb(244, 244, 244)","name":"","index":"46"}],"structure":"mind_right"}},"meta":{"exportTime":"2022-04-10 22:17:19","member":"60cca488e0b34d55bbf2954f","diagramInfo":{"creator":"60cca488e0b34d55bbf2954f","created":"2022-04-10 21:54:46","modified":"2022-04-10 22:16:31","title":"5.3使用 State Hook","category":"mind_free"},"id":"6252e1a6e0b34d0748b9f31a","type":"ProcessOn Schema File","version":"1.0"}}