{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"leftChildren":[],"note":"","margin":{"childMarginW":10,"childMarginH":5,"marginW":20,"marginH":10},"watermark":"","children":[{"parent":"root","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"children":[{"parent":"4a4e937a1166","children":[{"parent":"26f6456c6af4","children":[{"parent":"8622fb6e3286","children":[],"id":"2a51c82f0396","title":"不要在循环，条件或嵌套函数中调用&nbsp;Hook"}],"style":{"color":"#FF00FF","font-weight":"bold"},"id":"8622fb6e3286","title":"只在最顶层使用&nbsp;Hook"},{"parent":"26f6456c6af4","children":[{"parent":"41668132b060","children":[],"id":"20945fb0fe55","title":"不要在普通的&nbsp;JavaScript&nbsp;函数中调用&nbsp;Hook"}],"style":{"color":"#FF00FF","font-weight":"bold"},"id":"41668132b060","title":"只在&nbsp;React&nbsp;函数中调用&nbsp;Hook"}],"id":"26f6456c6af4","title":"Hook&nbsp;本质<br>就是&nbsp;JavaScript&nbsp;函数，<br>但是在使用它时<br>需要遵循两条规则","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"4a4e937a1166","children":[],"id":"38155145bf86","title":"我们提供了一个&nbsp;linter&nbsp;插件来强制执行这些规则","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#FFCDD2","lineStype":{"lineType":"curve","lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"4a4e937a1166","title":"介绍"},{"parent":"root","lineStyle":{"lineColor":"#BBDEFB","randomLineColor":"rgb(255,204,204)","lineWidth":"2"},"children":[{"parent":"a5fa884e620f","children":[],"id":"d3742cff6e16","title":"一个名为&nbsp;eslint-plugin-react-hooks&nbsp;的&nbsp;ESLint&nbsp;插件来强制执行这两条规则","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"a5fa884e620f","children":[{"parent":"bef60e8cb745","children":[],"id":"5e55b3acecf0","title":"npm&nbsp;install&nbsp;eslint-plugin-react-hooks&nbsp;--save-dev"}],"id":"bef60e8cb745","title":"安装","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"a5fa884e620f","note":"// 你的 ESLint 配置\n{\n  &quot;plugins&quot;: [\n    // ...\n    &quot;react-hooks&quot;\n  ],\n  &quot;rules&quot;: {\n    // ...\n    &quot;react-hooks/rules-of-hooks&quot;: &quot;error&quot;, // 检查 Hook 的规则\n    &quot;react-hooks/exhaustive-deps&quot;: &quot;warn&quot; // 检查 effect 的依赖\n  }\n}","children":[],"id":"15f28685b324","title":"ESLint&nbsp;配置","icons":[{"color":"rgb(48, 191, 191)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#BBDEFB","lineStype":{"lineType":"curve","lineColor":"#BBDEFB","randomLineColor":"rgb(255,204,204)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#BBDEFB","randomLineColor":"rgb(255,204,204)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"a5fa884e620f","title":"ESLint&nbsp;插件"},{"parent":"root","lineStyle":{"lineColor":"#E1BEE7"},"children":[{"parent":"3b7f7da9d693","children":[],"id":"3d72025d5a72","title":"我们可以在单个组件中使用多个&nbsp;State&nbsp;Hook&nbsp;或&nbsp;Effect&nbsp;Hook","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"3b7f7da9d693","children":[],"id":"c79ce255c680","title":"那么&nbsp;React&nbsp;怎么知道哪个&nbsp;state&nbsp;对应哪个&nbsp;useState？答案是&nbsp;React&nbsp;靠的是&nbsp;Hook&nbsp;调用的顺序","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"3b7f7da9d693","children":[],"id":"531cad0d183f","title":"只要&nbsp;Hook&nbsp;的调用顺序在多次渲染之间保持一致，React&nbsp;就能正确地将内部&nbsp;state&nbsp;和对应的&nbsp;Hook&nbsp;进行关联","icons":[{"color":"rgb(48, 191, 191)","name":"priority","index":"2","text":"&#xe62a"}]},{"parent":"3b7f7da9d693","children":[],"id":"8c958da52ad4","title":"如果我们想要有条件地执行一个&nbsp;effect，可以将判断放到&nbsp;Hook&nbsp;的内部","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"3"}]},{"parent":"3b7f7da9d693","children":[],"id":"228fd9fe48f5","title":"注意：如果使用了提供的&nbsp;lint&nbsp;插件，就无需担心此问题","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"4"}]}],"style":{"background-color":"#E1BEE7","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13},"id":"3b7f7da9d693","title":"说明"}],"root":true,"theme":"customise_7fd055efa78b","style":{"background-color":"rgb(255, 83, 92)","border-radius":"6px","color":"rgb(255, 255, 255)","font-weight":"bold","font-size":15,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"root","title":"Hook&nbsp;规则","icons":[{"color":"rgb(113, 203, 45)","name":"","index":"53"}],"structure":"mind_right"}},"meta":{"exportTime":"2022-04-10 22:42:40","member":"60cca488e0b34d55bbf2954f","diagramInfo":{"creator":"60cca488e0b34d55bbf2954f","created":"2022-04-10 22:35:36","modified":"2022-04-10 22:42:35","title":"5.5Hook 规则","category":"mind_free"},"id":"6252eb380791290727bdad8a","type":"ProcessOn Schema File","version":"1.0"}}