{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"leftChildren":[],"note":"","watermark":"","children":[{"parent":"root","lineStyle":{"lineColor":"#BBDEFB"},"children":[{"parent":"812b3a9306dd","note":"","children":[],"id":"ac25a09c6779","title":"通常我们会用&nbsp;JavaScript&nbsp;的&nbsp;class&nbsp;关键字来定义&nbsp;React&nbsp;组件，如果你还未使用过&nbsp;ES6，你可以使用&nbsp;create-react-class&nbsp;模块<br>","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"812b3a9306dd","children":[{"parent":"4d70d73dad33","children":[],"style":{"background-color":"#F5F5F5","font-size":12},"id":"62f00c1fd797","title":"var&nbsp;createReactClass&nbsp;=&nbsp;require('create-react-class');<br>var&nbsp;Greeting&nbsp;=&nbsp;createReactClass({<br>&nbsp;&nbsp;render:&nbsp;function()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&lt;h1&gt;Hello,&nbsp;{this.props.name}&lt;/h1&gt;;<br>&nbsp;&nbsp;}<br>});"}],"boundaries":[{"boundary":true,"parent":"4d70d73dad33","boundRank":1,"children":[],"pos":{"miny":9536,"minx":10420,"maxY":9659,"maxX":10743},"range":"0,0","style":{"lineType":"1","dasharray":"6,3","opacity":"0.1","lineWidth":"1"},"id":"bab6a5b947cc","title":"外框"}],"id":"4d70d73dad33","title":"代码如下","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"812b3a9306dd","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"roundBroken","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"06421878cf25","title":"ES6&nbsp;中的&nbsp;class&nbsp;与&nbsp;createReactClass()&nbsp;方法十分相似，但有以下几个区别值得注意","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"background-color":"#BBDEFB","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"812b3a9306dd","title":"create-react-class<br>"},{"parent":"root","lineStyle":{"lineColor":"#E1BEE7","lineWidth":"2"},"children":[{"parent":"896498dd7718","note":"","children":[{"parent":"3c25c1c2ba10","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"background-color":"#F5F5F5","lineStype":{"lineType":"roundBroken","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"ffeb6b3dd452","title":"class&nbsp;Greeting&nbsp;extends&nbsp;React.Component&nbsp;{<br>&nbsp;&nbsp;//&nbsp;...<br>}<br>Greeting.defaultProps&nbsp;=&nbsp;{<br>&nbsp;&nbsp;name:&nbsp;'Mary'<br>};"}],"boundaries":[{"boundary":true,"parent":"3c25c1c2ba10","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#F44336","fill":"#F44336","opacity":"0.1","lineWidth":"1"},"id":"445ee781a2c7","title":"外框"}],"id":"3c25c1c2ba10","title":"无论是函数组件还是&nbsp;class&nbsp;组件，<br>都拥有&nbsp;defaultProps&nbsp;属性","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"896498dd7718","children":[{"parent":"4be7280572a9","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"background-color":"#F5F5F5","lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"cf7e58f6a394","title":"var&nbsp;Greeting&nbsp;=&nbsp;createReactClass({<br>&nbsp;&nbsp;getDefaultProps:&nbsp;function()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;'Mary'<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;//&nbsp;...<br>});"}],"boundaries":[{"boundary":true,"parent":"4be7280572a9","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#F44336","fill":"#F44336","opacity":"0.1","lineWidth":"1"},"id":"1a35488e338d","title":"外框"}],"id":"4be7280572a9","title":"如果使用&nbsp;createReactClass()，<br>那就需要在组件中定义&nbsp;getDefaultProps()<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"font-style":"normal","border-radius":"5px","background-color":"#E1BEE7","lineStype":{"lineColor":"#E1BEE7","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#E1BEE7","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"896498dd7718","title":"声明默认属性<br>"},{"parent":"root","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"children":[{"parent":"5bf8fe5c3c71","note":"","children":[{"parent":"4b0af9a73e1a","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"background-color":"#F5F5F5","lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"9c590900541d","title":"class&nbsp;Counter&nbsp;extends&nbsp;React.Component&nbsp;{\n&nbsp;&nbsp;constructor(props)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;super(props);\n&nbsp;&nbsp;&nbsp;&nbsp;this.state&nbsp;=&nbsp;{count:&nbsp;props.initialCount};\n&nbsp;&nbsp;}\n&nbsp;&nbsp;//&nbsp;...\n}"}],"boundaries":[{"boundary":true,"parent":"4b0af9a73e1a","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#F44336","fill":"#F44336","opacity":"0.1","lineWidth":"1"},"id":"ccda8cd6ffb0","title":"外框"}],"id":"4b0af9a73e1a","title":"如果使用&nbsp;ES6&nbsp;的&nbsp;class&nbsp;关键字创建组件，<br>可以通过给&nbsp;this.state&nbsp;赋值的方式来定义组件的初始&nbsp;state","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"5bf8fe5c3c71","children":[{"parent":"b327245658d2","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"background-color":"#F5F5F5","lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"d7f2178b92ed","title":"var&nbsp;Counter&nbsp;=&nbsp;createReactClass({<br>&nbsp;&nbsp;getInitialState:&nbsp;function()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{count:&nbsp;this.props.initialCount};<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;//&nbsp;...<br>});"}],"boundaries":[{"boundary":true,"parent":"b327245658d2","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"#F44336","fill":"#F44336","opacity":"0.1","lineWidth":"1"},"id":"fa88bdc80042","title":"外框"}],"id":"b327245658d2","title":"如果使用&nbsp;createReactClass()<br>需要提供一个单独的&nbsp;getInitialState&nbsp;方法，让其返回初始&nbsp;state<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#FFCDD2","lineStype":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"5bf8fe5c3c71","title":"初始化&nbsp;State<br>"},{"parent":"root","lineStyle":{"lineColor":"#C8E6C9","lineWidth":"2"},"children":[{"parent":"a01eafed5bb9","note":"","children":[{"parent":"15028f67c0e5","note":"class SayHello extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {message: &#39;Hello!&#39;};\n    // 这一行很重要！\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    alert(this.state.message);\n  }\n\n  render() {\n    // 由于 `this.handleClick` 已经绑定至实例，因此我们才可以用它来处理点击事件\n    return (\n      &lt;button onClick={this.handleClick}&gt;\n        Say hello\n      &lt;/button&gt;\n    );\n  }\n}","children":[],"id":"f2cd80c1a7d2","title":"代码"}],"id":"15028f67c0e5","title":"对于使用&nbsp;ES6&nbsp;的&nbsp;class&nbsp;关键字创建的&nbsp;React&nbsp;组件，组件中的方法遵循与常规&nbsp;ES6&nbsp;class&nbsp;相同的语法规则。<br>这意味着这些方法不会自动绑定&nbsp;this&nbsp;到这个组件实例。&nbsp;你需要在&nbsp;constructor&nbsp;中显式地调用&nbsp;.bind(this)","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"a01eafed5bb9","children":[{"parent":"412c765359ca","note":"var SayHello = createReactClass({\n  getInitialState: function() {\n    return {message: &#39;Hello!&#39;};\n  },\n\n  handleClick: function() {\n    alert(this.state.message);\n  },\n\n  render: function() {\n    return (\n      &lt;button onClick={this.handleClick}&gt;\n        Say hello\n      &lt;/button&gt;\n    );\n  }\n});","children":[],"id":"4cf81d630126","title":"代码"}],"id":"412c765359ca","title":"如果使用&nbsp;createReactClass()&nbsp;方法创建组件，组件中的方法会自动绑定至实例<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"a01eafed5bb9","note":"class SayHello extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {message: &#39;Hello!&#39;};\n  }\n  // 警告：这种语法还处于试验性阶段！\n  // 在这里使用箭头函数就可以把方法绑定给实例：\n  handleClick = () =&gt; {\n    alert(this.state.message);\n  }\n\n  render() {\n    return (\n      &lt;button onClick={this.handleClick}&gt;\n        Say hello\n      &lt;/button&gt;\n    );\n  }\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"roundBroken","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"793c480c9601","title":"这就意味着，如果使用&nbsp;ES6&nbsp;class&nbsp;关键字创建组件，在处理事件回调时就要多写一部分代码。但对于大型项目来说，这样做可以提升运行效率。<br>如果你觉得上述写法很繁琐，那么可以尝试使用目前还处于试验性阶段的&nbsp;Babel&nbsp;插件&nbsp;Class&nbsp;Properties","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"2","text":"&#xe62a"}]},{"parent":"a01eafed5bb9","children":[{"parent":"d39b88848e99","children":[],"id":"a9d814b80899","title":"在&nbsp;constructor&nbsp;中绑定方法。"},{"parent":"d39b88848e99","children":[],"id":"2b196bb22af6","title":"使用箭头函数，比如：onClick={(e)&nbsp;=&gt;&nbsp;this.handleClick(e)}。"},{"parent":"d39b88848e99","children":[],"id":"e11a38261bfd","title":"继续使用&nbsp;createReactClass。"}],"id":"d39b88848e99","title":"请注意，上面这种语法目前还处于试验性阶段<br>为了保险起见，以下三种做法都是可以的：<br>","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"3","text":"&#xe635"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","font-style":"normal","border-radius":"5px","background-color":"#C8E6C9","lineStype":{"lineColor":"#F57F17","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#C8E6C9","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"a01eafed5bb9","title":"自动绑定<br>"},{"parent":"root","lineStyle":{"lineColor":"#FFE0B2","lineWidth":"2"},"children":[{"parent":"cecb23f7996e","note":"","children":[],"id":"10eb40fe09d6","title":"ES6&nbsp;本身是不包含任何&nbsp;mixin&nbsp;支持。因此，当你在&nbsp;React&nbsp;中使用&nbsp;ES6&nbsp;class&nbsp;时，将不支持&nbsp;mixins","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"cecb23f7996e","children":[],"id":"9e830d23e729","title":"不建议在新代码中使用它们<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"cecb23f7996e","children":[{"parent":"79ae84a53989","children":[],"id":"d791610c3d81","title":"https://react.docschina.org/docs/react-without-es6.html#mixins"}],"id":"79ae84a53989","title":"如果使用可参考"}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"font-style":"normal","border-radius":"5px","background-color":"#FFE0B2","lineStype":{"lineColor":"#FFE0B2","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#FFE0B2","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"cecb23f7996e","title":"关于Mixins<br>"}],"root":true,"theme":"customise_7fd055efa78b","style":{"background-color":"#2196F3","border-radius":"6px","color":"rgb(255, 255, 255)","font-weight":"bold","border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"root","title":"不使用&nbsp;ES6","icons":[{"color":"rgb(255, 255, 255)","name":"","index":"46"}],"structure":"mind_free"}},"meta":{"exportTime":"2022-04-08 09:55:06","member":"60cca488e0b34d55bbf2954f","diagramInfo":{"creator":"60cca488e0b34d55bbf2954f","created":"2022-04-08 09:31:31","modified":"2022-04-08 09:46:55","title":"3.13不使用 ES6","category":"mind_free"},"id":"624f90731efad407891707cf","type":"ProcessOn Schema File","version":"1.0"}}