{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"leftChildren":[],"note":"","watermark":"","children":[{"parent":"root","lineStyle":{"lineColor":"#BBDEFB"},"children":[{"parent":"812b3a9306dd","note":"","children":[],"id":"ac25a09c6779","title":"Flow&nbsp;是一个针对&nbsp;JavaScript&nbsp;代码的静态类型检测器。<br>Flow&nbsp;由&nbsp;Facebook&nbsp;开发，经常与&nbsp;React&nbsp;一起使用。Flow&nbsp;通过特殊的类型语法为变量，函数，以及&nbsp;React&nbsp;组件提供注解，帮助你尽早地发现错误","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"812b3a9306dd","children":[{"parent":"4d70d73dad33","children":[],"id":"ce8fbbb1f6be","title":"将&nbsp;Flow&nbsp;添加到你的项目依赖中。"},{"parent":"4d70d73dad33","children":[],"id":"39ac4ad0625b","title":"确保编译后的代码中去除了&nbsp;Flow&nbsp;语法。"},{"parent":"4d70d73dad33","children":[],"id":"e6a5fcdd96d9","title":"添加类型注解并且运行&nbsp;Flow&nbsp;来检查它们。"}],"id":"4d70d73dad33","title":"完成以下步骤，<br>便可开始使用&nbsp;Flow<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}],"summaries":[{"summary":true,"parent":"4d70d73dad33","children":[],"range":"0,2","style":{"lineType":"curve_complex","font-size":12,"lineColor":"#63abf7","lineWidth":"1"},"id":"bb6f3e8397fd","title":"下面会详细讲到"}]}],"style":{"background-color":"#BBDEFB","border-radius":"5px","color":"#212121","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"812b3a9306dd","title":"介绍<br>"},{"parent":"root","lineStyle":{"lineColor":"#E1BEE7","lineWidth":"2"},"children":[{"parent":"896498dd7718","note":"","children":[{"parent":"3c25c1c2ba10","children":[],"id":"67dd60515b83","title":"yarn&nbsp;add&nbsp;--dev&nbsp;flow-bin 或者&nbsp;npm&nbsp;install&nbsp;--save-dev&nbsp;flow-bin"},{"parent":"3c25c1c2ba10","children":[],"id":"3dbb1e997b59","title":"这个命令将在你的项目中安装最新版的&nbsp;Flow"}],"id":"3c25c1c2ba10","title":"首先，在终端中进入到项目根目录下，<br>执行以下命令<br>","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"896498dd7718","children":[{"parent":"4be7280572a9","children":[],"id":"64f4100076e4","title":"&nbsp; \"scripts\":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;\"flow\":&nbsp;\"flow\",<br>&nbsp;&nbsp;},<br>"}],"boundaries":[{"boundary":true,"parent":"4be7280572a9","boundRank":1,"children":[],"pos":{"miny":9722,"minx":10914,"maxY":9798,"maxX":11048},"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"rgb(113, 203, 45)","opacity":"0.1","fill":"rgb(113, 203, 45)","lineWidth":"1"},"id":"7baa75630298","title":"外框"}],"id":"4be7280572a9","title":"接下来，将&nbsp;flow&nbsp;添加到项目&nbsp;package.json&nbsp;的&nbsp;\"scripts\"&nbsp;部分，<br>以便能够从终端命令行中使用它<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"896498dd7718","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[{"parent":"d7a2018a01ad","children":[],"id":"054a13231d02","title":"yarn&nbsp;run&nbsp;flow&nbsp;init 或&nbsp;npm&nbsp;run&nbsp;flow&nbsp;init"},{"parent":"d7a2018a01ad","children":[],"id":"1233f44d6802","title":"这条命令将生成你需要提交的&nbsp;Flow&nbsp;配置文件"}],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","font-style":"normal"},"id":"d7a2018a01ad","title":"最后，执行","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"font-style":"normal","border-radius":"5px","background-color":"#E1BEE7","lineStype":{"lineColor":"#E1BEE7","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#E1BEE7","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"896498dd7718","title":"在项目中添加&nbsp;Flow<br>"},{"parent":"root","lineStyle":{"lineColor":"#FFCDD2","lineWidth":"2"},"children":[{"parent":"5bf8fe5c3c71","children":[],"id":"d10e3b68d548","title":"Flow&nbsp;通过这种类型注释的特殊语法扩展了&nbsp;JavaScript&nbsp;语言。<br>但是，浏览器不能够解析这种语法，所以我们需要确保它不会被编译到在浏览器执行的&nbsp;JavaScript&nbsp;bundle&nbsp;中。<br>具体方法取决于你使用的&nbsp;JavaScript&nbsp;编译工具。<br>"},{"parent":"5bf8fe5c3c71","note":"","children":[{"parent":"4b0af9a73e1a","children":[],"id":"fde90e5b45d9","title":"如果你的项目使用的是&nbsp;Create&nbsp;React&nbsp;App，那么&nbsp;Flow&nbsp;注解默认会被去除"}],"id":"4b0af9a73e1a","title":"Create&nbsp;React&nbsp;App","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"5bf8fe5c3c71","children":[{"parent":"b327245658d2","children":[],"id":"daa960f0b822","title":"如果你的项目手动配置了&nbsp;Babel，你需要为&nbsp;Flow&nbsp;安装一个特殊的&nbsp;preset"},{"parent":"b327245658d2","children":[{"parent":"c08a2e868a57","children":[],"id":"faea01252810","title":"yarn&nbsp;add&nbsp;--dev&nbsp;@babel/preset-flow 或者&nbsp;npm&nbsp;install&nbsp;--save-dev&nbsp;@babel/preset-flow"}],"id":"c08a2e868a57","title":"执行"},{"parent":"b327245658d2","note":"{\n  &quot;presets&quot;: [\n    &quot;@babel/preset-flow&quot;,\n    &quot;react&quot;\n  ]\n}","children":[],"id":"ac884621d201","title":"接下来将&nbsp;flow&nbsp;preset&nbsp;添加到你的&nbsp;Babel&nbsp;配置&nbsp;配置中。例如，如果你通过&nbsp;.babelrc&nbsp;文件配置&nbsp;Babel，它可能会如下所示"},{"parent":"b327245658d2","children":[],"id":"aa95e023c13b","title":"注意，Flow&nbsp;不需要&nbsp;react&nbsp;preset，但他们经常一起使用。Flow&nbsp;内置了&nbsp;JSX&nbsp;的语法识别"}],"id":"b327245658d2","title":"Babel<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"5bf8fe5c3c71","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[{"parent":"19ebcaef8a05","children":[],"id":"a4a15f0255b3","title":"如果没有使用&nbsp;Create&nbsp;React&nbsp;App&nbsp;或&nbsp;Babel&nbsp;来构建项目，可以通过&nbsp;flow-remove-types&nbsp;去除类型注解"}],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","font-style":"normal"},"id":"19ebcaef8a05","title":"其他构建工具设置","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","font-style":"normal","border-radius":"5px","background-color":"#FFCDD2","lineStype":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#FFCDD2","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"5bf8fe5c3c71","title":"从编译后的代码中<br>去除&nbsp;Flow&nbsp;语法<br>"},{"parent":"root","lineStyle":{"lineColor":"#C8E6C9","lineWidth":"2"},"children":[{"parent":"a01eafed5bb9","children":[{"parent":"8bfa741bd568","children":[],"id":"7b1bcc74f1c8","title":"yarn&nbsp;flow 或&nbsp;npm&nbsp;run&nbsp;flow"}],"id":"8bfa741bd568","title":"执行以下命令"}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","font-style":"normal","border-radius":"5px","background-color":"#C8E6C9","lineStype":{"lineColor":"#F57F17","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#C8E6C9","randomLineColor":"rgb(153,204,255)","lineWidth":"2"},"font-family":"微软雅黑","border-width":"0px","border-style":"none"},"id":"a01eafed5bb9","title":"运行&nbsp;Flow<br>"},{"parent":"root","lineStyle":{"lineColor":"#FFE0B2","lineWidth":"2"},"children":[{"parent":"cecb23f7996e","note":"","children":[{"parent":"10eb40fe09d6","children":[],"id":"1c181305e690","title":"//&nbsp;@flow"},{"parent":"10eb40fe09d6","children":[],"id":"2c313e0abb0b","title":"通常，它位于文件的顶部"}],"id":"10eb40fe09d6","title":"默认情况下，Flow&nbsp;仅检查包含此注释的文件：","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"cecb23f7996e","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","font-style":"normal"},"id":"9e830d23e729","title":"还可以通过这个选项开启所有文件（包括没有注解的文件）的强制检查。<br>通过&nbsp;Flow&nbsp;来检查全部文件对于现有的项目来说，可能导致大量修改，但对于希望完全集成&nbsp;Flow&nbsp;的新项目来说开启这个选项比较合理<br>","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#212121","textAlign":"left","font-weight":"bold","font-size":13,"font-style":"normal","border-radius":"5px","background-color":"#FFE0B2","lineStype":{"lineColor":"#FFE0B2","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#FFE0B2","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"cecb23f7996e","title":"添加&nbsp;Flow&nbsp;类型注释<br>"}],"root":true,"theme":"customise_7fd055efa78b","style":{"background-color":"rgb(80, 194, 139)","border-radius":"5px","color":"rgb(255, 255, 255)","font-weight":"bold","border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"root","title":"Flow","icons":[{"color":"rgb(255, 255, 255)","name":"","index":"42"}],"structure":"mind_free"}},"meta":{"exportTime":"2022-04-08 18:31:58","member":"60cca488e0b34d55bbf2954f","diagramInfo":{"creator":"60cca488e0b34d55bbf2954f","created":"2022-04-08 18:17:32","modified":"2022-04-08 18:31:45","title":"3.18.1静态类型检查之Flow","category":"mind_free"},"id":"62500bbc1efad40789198022","type":"ProcessOn Schema File","version":"1.0"}}