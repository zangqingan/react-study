{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"note":"","margin":{"childMarginW":10,"childMarginH":5,"marginW":20,"marginH":10},"watermark":"","title":"Web&nbsp;Components","icons":[{"color":"rgb(255, 255, 255)","name":"","index":"47"}],"structure":"mind_free","leftChildren":[],"lineStyle":{"lineColor":"#1976D2","lineWidth":"2"},"children":[{"parent":"root","lineStyle":{"lineColor":"#1976D2"},"children":[{"parent":"3b7f7da9d693","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"3da828dbd224","title":"React&nbsp;和&nbsp;Web&nbsp;Components&nbsp;为了解决不同的问题而生。<br>Web&nbsp;Components&nbsp;为可复用组件提供了强大的封装，而&nbsp;React&nbsp;则提供了声明式的解决方案，使&nbsp;DOM&nbsp;与数据保持同步","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"3b7f7da9d693","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"4d0baeac4530","title":"作为开发人员，可以自由选择在&nbsp;Web&nbsp;Components&nbsp;中使用&nbsp;React，或者在&nbsp;React&nbsp;中使用&nbsp;Web&nbsp;Components，或者两者共存","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"3b7f7da9d693","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"6c79dfddc125","title":"大多数开发者在使用&nbsp;React&nbsp;时，不使用&nbsp;Web&nbsp;Components，但可能你会需要使用，尤其是在使用&nbsp;Web&nbsp;Components&nbsp;编写的第三方&nbsp;UI&nbsp;组件时","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"2","text":"&#xe62a"}]}],"boundaries":[],"style":{"background-color":"#1976D2","border-radius":"5px","font-weight":"bold","font-size":13},"id":"3b7f7da9d693","title":"介绍"},{"parent":"root","lineStyle":{"lineColor":"#1976D2","lineWidth":"2"},"children":[{"parent":"0291282e6d37","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[{"parent":"8759611ecbbe","children":[],"style":{"background-color":"#F5F5F5","font-size":12},"id":"fcd1667d1b44","title":"class&nbsp;HelloMessage&nbsp;extends&nbsp;React.Component&nbsp;{<br>&nbsp;&nbsp;render()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&lt;div&gt;Hello&nbsp;&lt;x-search&gt;{this.props.name}&lt;/x-search&gt;!&lt;/div&gt;;<br>&nbsp;&nbsp;}<br>}"}],"boundaries":[{"boundary":true,"parent":"8759611ecbbe","boundRank":1,"children":[],"pos":{"miny":9746,"minx":10360,"maxY":9852,"maxX":10798},"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"rgb(113, 203, 45)","opacity":"0.1","fill":"rgb(113, 203, 45)","lineWidth":"2"},"id":"73adcb408367","title":"外框"}],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"8759611ecbbe","title":"示例代码","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"0291282e6d37","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[{"parent":"83be2310dcad","children":[],"id":"c16332cda7b2","title":"Web&nbsp;Components&nbsp;通常暴露的是命令式&nbsp;API。例如，Web&nbsp;Components&nbsp;的组件&nbsp;video&nbsp;可能会公开&nbsp;play()&nbsp;和&nbsp;pause()&nbsp;方法。要访问&nbsp;Web&nbsp;Components&nbsp;的命令式&nbsp;API，你需要使用&nbsp;ref&nbsp;直接与&nbsp;DOM&nbsp;节点进行交互。如果你使用的是第三方&nbsp;Web&nbsp;Components，那么最好的解决方案是编写&nbsp;React&nbsp;组件包装该&nbsp;Web&nbsp;Components"},{"parent":"83be2310dcad","children":[],"id":"b6b6f30a4416","title":"Web&nbsp;Components&nbsp;触发的事件可能无法通过&nbsp;React&nbsp;渲染树正确的传递。&nbsp;你需要在&nbsp;React&nbsp;组件中手动添加事件处理器来处理这些事件"}],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"83be2310dcad","title":"注意","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"0291282e6d37","note":"function BrickFlipbox() {\n  return (\n    &lt;brick-flipbox class=&quot;demo&quot;&gt;\n      &lt;div&gt;front&lt;/div&gt;\n      &lt;div&gt;back&lt;/div&gt;\n    &lt;/brick-flipbox&gt;\n  );\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"f1d3f76b27a0","title":"常见的误区是在&nbsp;Web&nbsp;Components&nbsp;中使用的是&nbsp;class&nbsp;而非&nbsp;className","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#F5F5F5","textAlign":"left","font-weight":"bold","font-size":13,"bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#1976D2","lineStype":{"lineType":"curve","lineColor":"#1976D2","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#1976D2","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"0291282e6d37","title":"在&nbsp;React&nbsp;中使用<br>Web&nbsp;Components<br>"},{"parent":"root","lineStyle":{"lineColor":"#1976D2","lineWidth":"2"},"children":[{"parent":"812b3a9306dd","note":"","children":[{"parent":"ac25a09c6779","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"background-color":"#F5F5F5","lineStype":{"lineType":"roundBroken","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":12,"font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"ad4df7a6203d","title":"class&nbsp;XSearch&nbsp;extends&nbsp;HTMLElement&nbsp;{\n&nbsp;&nbsp;connectedCallback()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;mountPoint&nbsp;=&nbsp;document.createElement('span');\n&nbsp;&nbsp;&nbsp;&nbsp;this.attachShadow({&nbsp;mode:&nbsp;'open'&nbsp;}).appendChild(mountPoint);\n\n&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;name&nbsp;=&nbsp;this.getAttribute('name');\n&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;url&nbsp;=&nbsp;'https://www.google.com/search?q='&nbsp;+&nbsp;encodeURIComponent(name);\n&nbsp;&nbsp;&nbsp;&nbsp;ReactDOM.render(&lt;a&nbsp;href={url}&gt;{name}&lt;/a&gt;,&nbsp;mountPoint);\n&nbsp;&nbsp;}\n}\ncustomElements.define('x-search',&nbsp;XSearch);"}],"boundaries":[{"boundary":true,"parent":"ac25a09c6779","boundRank":1,"children":[],"range":"0,0","style":{"lineType":"1","dasharray":"6,3","lineColor":"rgb(113, 203, 45)","fill":"rgb(113, 203, 45)","opacity":"0.1","lineWidth":"2"},"id":"1a6a30e3cf34","title":"外框"}],"style":{"font-weight":"normal"},"id":"ac25a09c6779","title":"示例代码","icons":[{"color":"rgb(191, 30, 27)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"812b3a9306dd","note":"","children":[{"parent":"4d70d73dad33","children":[],"id":"ebaf8097dc4e","title":"如果使用&nbsp;Babel&nbsp;来转换&nbsp;class，此代码将不会起作用"}],"style":{"font-weight":"normal"},"id":"4d70d73dad33","title":"注意","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"1","text":"&#xe625"}]}],"style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#F5F5F5","textAlign":"left","font-weight":"bold","font-size":13,"bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#1976D2","lineStype":{"lineType":"curve","lineColor":"#1976D2","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#1976D2","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"812b3a9306dd","title":"Web&nbsp;Components&nbsp;中<br>使用&nbsp;React"}],"root":true,"theme":"customise_7fd055efa78b","style":{"padding":"8px 10px 8px 10px","backgroundColor":"#2196F3","color":"#F5F5F5","textAlign":"left","font-weight":"bold","font-size":13,"bold":false,"font-style":"normal","italic":false,"border-radius":"5px","background-color":"#1976D2","lineStype":{"lineType":"curve","lineColor":"#1976D2","lineWidth":"2"},"box-shadow":"1px 2px 6px #aaa","lineStyle":{"lineColor":"#1976D2","lineWidth":"2"},"font-family":"微软雅黑","border-width":0,"border-style":"solid"},"id":"root","summaries":[{"summary":true,"parent":"root","children":[],"pos":{},"part":"right","range":"0,0","style":{"lineType":"curve_complex","lineColor":"#bf1e1b","lineWidth":"1"},"id":"43f1bb802748","title":"概要"}]}},"meta":{"exportTime":"2022-04-08 23:37:29","member":"60cca488e0b34d55bbf2954f","diagramInfo":{"creator":"60cca488e0b34d55bbf2954f","created":"2022-04-08 23:31:44","modified":"2022-04-08 23:37:14","title":"3.22Web Components","category":"mind_free"},"id":"625055600791290727ba2036","type":"ProcessOn Schema File","version":"1.0"}}